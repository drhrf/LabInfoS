<!doctype html>
<html lang="pt-BR">
<head>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3MMCZ72V5H"></script>
  <script>
   window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-3MMCZ72V5H');
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light dark" />

  <title>NEC â€” NÃºcleo Bertrand Russell para ExcelÃªncia CientÃ­fica</title>
  <meta name="description" content="NEC: NÃºcleo Bertrand Russell para ExcelÃªncia CientÃ­fica â€” consultoria, mÃ©todos, ciÃªncia de dados e apoio a projetos." />

  <link rel="icon" href="assets/img/logo.png" type="image/svg+xml">
  <link rel="icon" href="assets/img/capa-32.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="assets/img/capa-192.png">
  <link rel="stylesheet" href="assets/css/style.css" />
  <script defer src="assets/js/main.js"></script>

<!-- WebR Console styles (scoped so they don't bleed into the rest of the page) -->
  <style>
    /* â”€â”€ WebR Console Section â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .webr-section {
      padding: 3rem 0 4rem;
    }

    .webr-section .section-label {
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      opacity: 0.45;
      margin-bottom: 0.4rem;
    }

    .webr-section h2 {
      margin-top: 0;
      margin-bottom: 0.5rem;
    }

    .webr-section .webr-description {
      opacity: 0.7;
      font-size: 0.95rem;
      margin-bottom: 1.5rem;
      max-width: 60ch;
    }

    /* Terminal wrapper */
    .webr-console {
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 24px rgba(0,0,0,0.13);
      font-family: 'Menlo', 'Consolas', 'Liberation Mono', monospace;
      font-size: 0.85rem;
      background: #1e1e2e;
      color: #cdd6f4;
    }

    /* Title bar */
    .webr-titlebar {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 1rem;
      background: #181825;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }

    .webr-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    .webr-dot.red    { background: #f38ba8; }
    .webr-dot.yellow { background: #f9e2af; }
    .webr-dot.green  { background: #a6e3a1; }

    .webr-titlebar-label {
      margin-left: auto;
      font-size: 0.72rem;
      opacity: 0.4;
      letter-spacing: 0.05em;
    }

    /* Output area */
    .webr-output {
      padding: 1rem 1.2rem 0.5rem;
      min-height: 120px;
      max-height: 260px;
      overflow-y: auto;
      white-space: pre-wrap;
      word-break: break-word;
      line-height: 1.55;
      color: #cdd6f4;
    }

    .webr-output .webr-stdout { color: #cdd6f4; }
    .webr-output .webr-stderr { color: #f38ba8; }
    .webr-output .webr-info   { color: #89dceb; font-style: italic; }

    /* Input row */
    .webr-input-row {
      display: flex;
      align-items: center;
      gap: 0;
      border-top: 1px solid rgba(255,255,255,0.06);
      padding: 0.55rem 1.2rem;
      background: #181825;
    }

    .webr-prompt {
      color: #89b4fa;
      font-weight: 700;
      margin-right: 0.5rem;
      user-select: none;
      flex-shrink: 0;
    }

    .webr-input {
      flex: 1;
      background: transparent;
      border: none;
      outline: none;
      color: #cdd6f4;
      font-family: inherit;
      font-size: inherit;
      line-height: 1.5;
      caret-color: #89b4fa;
    }

    .webr-run-btn {
      background: #89b4fa;
      color: #1e1e2e;
      border: none;
      border-radius: 5px;
      padding: 0.3rem 0.85rem;
      font-family: inherit;
      font-size: 0.8rem;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.15s, opacity 0.15s;
      flex-shrink: 0;
      margin-left: 0.75rem;
    }
    .webr-run-btn:hover:not(:disabled)  { background: #b4d0fe; }
    .webr-run-btn:disabled              { opacity: 0.45; cursor: default; }

    /* Status badge */
    .webr-status {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.78rem;
      margin-top: 0.7rem;
      opacity: 0.6;
    }

    .webr-status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #f9e2af;
      animation: webr-pulse 1.4s ease-in-out infinite;
      flex-shrink: 0;
    }

    .webr-status-dot.ready  { background: #a6e3a1; animation: none; }
    .webr-status-dot.error  { background: #f38ba8; animation: none; }

    @keyframes webr-pulse {
      0%, 100% { opacity: 1; }
      50%       { opacity: 0.3; }
    }

    /* Example snippets */
    .webr-examples {
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem;
      margin-top: 1rem;
    }

    .webr-example-btn {
      background: rgba(137,180,250,0.1);
      border: 1px solid rgba(137,180,250,0.25);
      color: #89b4fa;
      border-radius: 20px;
      padding: 0.25rem 0.75rem;
      font-family: 'Menlo', 'Consolas', monospace;
      font-size: 0.78rem;
      cursor: pointer;
      transition: background 0.15s, border-color 0.15s;
    }
    .webr-example-btn:hover { background: rgba(137,180,250,0.22); border-color: rgba(137,180,250,0.5); }

    .webr-disclaimer {
      font-size: 0.75rem;
      opacity: 0.4;
      margin-top: 0.65rem;
    }

    #webr-plot-area {
      background: #ffffff;
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 4px 24px rgba(0,0,0,0.13);
    }

    #webr-canvas {
      display: block;
      width: 100%;
      height: auto;
      border-radius: 6px;
    }

  </style>
</head>

<body>

  <div id="google_translate_element" style="position:fixed; bottom:12px; right:12px; z-index:9999;"></div>

  <script>
    function googleTranslateElementInit() {
      new google.translate.TranslateElement(
        { pageLanguage: 'pt', layout: google.translate.TranslateElement.InlineLayout.SIMPLE },
        'google_translate_element'
      );
    }
  </script>
  <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

  <a class="skip-link" href="#conteudo">Pular para o conteÃºdo</a>

  <header class="site-header" data-header>
    <div class="container header-inner">
      <a class="brand" href="./index.html" aria-label="Ir para a pÃ¡gina inicial do LabInfoS">
        <span class="brand-mark" aria-hidden="true"></span>
        <span class="brand-text">
          <span class="brand-name">LabInfoS</span>
          <span class="brand-sub">LaboratÃ³rio de InformÃ¡tica em SaÃºde</span>
        </span>
      </a>

      <button class="nav-toggle" type="button" aria-label="Abrir menu" aria-expanded="false" data-nav-toggle>
        <span class="nav-toggle-bars" aria-hidden="true"></span>
      </button>

      <nav class="nav" data-nav>
        <a class="nav-link" href="./index.html">InÃ­cio</a>
        <a class="nav-link" href="./publicacoes.html">PublicaÃ§Ãµes</a>
        <a class="nav-link" href="./equipe.html">Equipe</a>
        <a class="nav-link is-active" href="./nec.html">NEC</a>
        <a class="nav-link" href="https://drhrf.github.io/mynecreports/" target="_blank" rel="noopener noreferrer">NECreports</a>
        <button class="theme-toggle" type="button" data-theme-toggle aria-label="Alternar tema (claro/escuro)">
          Tema
        </button>
      </nav>
    </div>
  </header>

  <main id="conteudo" class="page">
    <section class="page-hero">
      <div class="container">
        <p class="kicker">NÃºcleo Bertrand Russell para ExcelÃªncia CientÃ­fica</p>
        <h1>
          <div class="hero-card" role="img" aria-label="Imagem de capa do NEC">
          <img src="assets/img/NEC_logo.jpeg" alt="NEC â€” NÃºcleo Bertrand Russell para ExcelÃªncia CientÃ­fica" class="hero-logo">
          </div>
        </h1>

        <!-- PREENCHA AQUI: posicionamento do NEC e como ele se conecta ao LabInfoS -->
        <p class="justifyed">
          O NÃºcleo Bertrand Russell para ExcelÃªncia CientÃ­fica (NEC) Ã© um Ã³rgÃ£o de consultoria criado para fomentar e aprimorar projetos cientÃ­ficos no Ã¢mbito da UERJ, 
          com prioridade para iniciativas conduzidas por docentes da Faculdade de CiÃªncias MÃ©dicas. Sua atuaÃ§Ã£o oferece suporte integral ao projeto, da elaboraÃ§Ã£o e 
          submissÃ£o ao registro e Ã  publicaÃ§Ã£o, com foco em rigor metodolÃ³gico, excelÃªncia e inovaÃ§Ã£o. O NEC tambÃ©m estimula a cooperaÃ§Ã£o entre setores acadÃªmicos, 
          tÃ©cnicos e administrativos, fortalecendo a integraÃ§Ã£o entre pesquisadores e promovendo parcerias internas e externas. Quando houver atendimento a pessoas 
          ou instituiÃ§Ãµes fora da UERJ, a prestaÃ§Ã£o do serviÃ§o serÃ¡ mediada pelo CEPUERJ, conforme o regimento.
        </p>

        <!-- <p class="muted">O conteÃºdo estruturado desta pÃ¡gina Ã© carregado de <code>data/nec.json</code>.</p> -->
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="grid cards-3" id="necServices">
          <!-- serviÃ§os carregados de nec.json -->
        </div>
      </div>
    </section>

    <section class="section section-alt">
      <div class="container">
        <div class="split">
          <div>
            <h2>Como trabalhamos</h2>
            <div class="prose" id="necHowWeWork">
              <!-- texto carregado de nec.json -->
            </div>
          </div>

          <aside class="panel">
            <h3>Solicitar apoio</h3>
            <!-- <p class="muted">PREENCHA em <code>data/nec.json</code> (e, se preferir, tambÃ©m em <code>data/site.json</code>).</p> -->
            <div class="contact-block">
              <div class="contact-item">
                <span class="contact-label">E-mail</span>
                <a href="#" data-nec="email">[nec@exemplo.org]</a>
              </div>
              <div class="contact-item">
                <span class="contact-label">FormulÃ¡rio</span>
                <a href="#" data-nec="formUrl">[link do formulÃ¡rio]</a>
              </div>
              <div class="contact-item">
                <span class="contact-label">Escopo</span>
                <span data-nec="scopeNote">[o que entra / o que nÃ£o entra]</span>
              </div>
            </div>

            <div class="panel-cta">
              <a class="btn primary" href="./equipe.html">Ver equipe</a>
              <a class="btn ghost" href="./publicacoes.html">Ver publicaÃ§Ãµes</a>
            </div>
          </aside>
        </div>
      </div>
    </section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         WebR â€” Console R interativo
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="section webr-section">
      <div class="container">
        <p class="section-label">Ferramenta interativa</p>
        <h2>Console R no navegador</h2>
        <p class="webr-description">
          Experimente anÃ¡lises em R diretamente aqui, sem instalar nada.
          O ambiente Ã© executado localmente no seu navegador via WebAssembly.
        </p>

        <div class="webr-console" role="region" aria-label="Console R interativo">
          <div class="webr-titlebar" aria-hidden="true">
            <span class="webr-dot red"></span>
            <span class="webr-dot yellow"></span>
            <span class="webr-dot green"></span>
            <span class="webr-titlebar-label">R via WebR</span>
          </div>

          <div class="webr-output" id="webr-output" aria-live="polite" aria-label="SaÃ­da do console R">
            <span class="webr-info">Inicializando Râ€¦ isso pode levar alguns segundos.</span>
          </div>

          <div class="webr-input-row">
            <span class="webr-prompt" aria-hidden="true">&gt;</span>
            <input
              class="webr-input"
              id="webr-input"
              type="text"
              autocomplete="off"
              autocorrect="off"
              autocapitalize="off"
              spellcheck="false"
              placeholder="Digite um comando R e pressione Enter ou clique em Executar"
              disabled
              aria-label="Entrada de cÃ³digo R"
            />
            <button class="webr-run-btn" id="webr-run-btn" disabled aria-label="Executar cÃ³digo R">
              Executar
            </button>
          </div>
        </div>

        <div class="webr-status" id="webr-status" aria-live="polite">
          <span class="webr-status-dot" id="webr-status-dot"></span>
          <span id="webr-status-text">Carregando WebRâ€¦</span>
        </div>

        <div class="webr-examples" id="webr-examples" aria-label="Exemplos de cÃ³digo R">
          <span style="font-size:0.78rem; opacity:0.5; align-self:center;">Exemplos:</span>
          <button class="webr-example-btn" data-code="summary(c(1,2,3,4,5,6,7,8,9,10))">summary()</button>
          <button class="webr-example-btn" data-code="x <- rnorm(100); mean(x)">rnorm()</button>
          <button class="webr-example-btn" data-code="table(sample(c('A','B','C'), 30, replace=TRUE))">table()</button>
          <button class="webr-example-btn" data-code="cor(1:10, c(2,4,3,5,7,6,8,9,10,11))">cor()</button>
          <button class="webr-example-btn" data-code="t.test(rnorm(20, mean=5), rnorm(20, mean=5.5))">t.test()</button>
        </div>

        <p class="webr-disclaimer">
          Os cÃ¡lculos ocorrem inteiramente no seu dispositivo. Nenhum dado Ã© enviado a servidores externos.
        </p>

        <div id="webr-plot-area" style="display:none; margin-top:1rem;">
  <button id="webr-plot-toggle" class="webr-example-btn" style="margin-bottom:0.5rem;">
    ðŸ“Š Mostrar grÃ¡fico
  </button>
  <canvas id="webr-canvas" style="display:none; border-radius:8px; max-width:100%;"></canvas>
  </div>

      </div>
    </section>
    <!-- â•â• fim WebR â•â• -->

  </main>

  <footer class="footer">
    <div class="container footer-inner">
      <div class="footer-left">
        <p class="footer-brand"><strong>LabInfoS</strong> â€” LaboratÃ³rio de InformÃ¡tica em SaÃºde</p>
        <p class="muted">Â© <span id="year"></span></p>
      </div>

      <div class="footer-right">
        <a href="./index.html">InÃ­cio</a>
        <a href="./publicacoes.html">PublicaÃ§Ãµes</a>
        <a href="./equipe.html">Equipe</a>
      </div>
    </div>
  </footer>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       WebR bootstrap â€” loaded as an ES module
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <script type="module">
  import { WebR } from 'https://webr.r-wasm.org/latest/webr.mjs';

  const outputEl   = document.getElementById('webr-output');
  const inputEl    = document.getElementById('webr-input');
  const runBtn     = document.getElementById('webr-run-btn');
  const statusDot  = document.getElementById('webr-status-dot');
  const statusText = document.getElementById('webr-status-text');
  const exampleBtns = document.querySelectorAll('.webr-example-btn');
  const plotArea   = document.getElementById('webr-plot-area');
  const plotCanvas = document.getElementById('webr-canvas');
  const plotToggle = document.getElementById('webr-plot-toggle');

  const history = [];
  let histIdx = -1;
  let plotStarted = false;

  function appendOutput(text, cls = 'webr-stdout') {
    const info = outputEl.querySelector('.webr-info');
    if (info) info.remove();
    const span = document.createElement('span');
    span.className = cls;
    span.textContent = text;
    outputEl.appendChild(span);
    outputEl.scrollTop = outputEl.scrollHeight;
  }

  function setStatus(state, label) {
    statusDot.className = 'webr-status-dot ' + state;
    statusText.textContent = label;
  }

  function setReady(ready) {
    inputEl.disabled = !ready;
    runBtn.disabled  = !ready;
    exampleBtns.forEach(b => b.disabled = !ready);
  }

  plotToggle.addEventListener('click', () => {
    const visible = plotCanvas.style.display !== 'none';
    plotCanvas.style.display = visible ? 'none' : 'block';
    plotToggle.textContent = visible ? 'ðŸ“Š Mostrar grÃ¡fico' : 'ðŸ“Š Ocultar grÃ¡fico';
  });

  // â”€â”€ Init WebR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const webR = new WebR();
  await webR.init();

  // Start the output reader loop â€” runs forever in the background
  (async () => {
    for (;;) {
      const msg = await webR.read();
      switch (msg.type) {
        case 'stdout':
          appendOutput(msg.data + '\n', 'webr-stdout');
          break;
        case 'stderr':
          appendOutput(msg.data + '\n', 'webr-stderr');
          break;
        case 'canvas': {
  const showPlot = () => {
    plotArea.style.display   = 'block';
    plotCanvas.style.display = 'block';
    plotToggle.textContent   = 'ðŸ“Š Ocultar grÃ¡fico';
  };

  if (msg.data.event === 'canvasNewPage') {
  plotStarted = false;
} else if (msg.data.event === 'canvasImage') {
  const bmp = msg.data.image;
  if (!plotStarted) {
    plotCanvas.width  = bmp.width;
    plotCanvas.height = bmp.height;
    const ctx = plotCanvas.getContext('2d');
    ctx.fillStyle = '#ffffff';
    ctx.fillRect(0, 0, bmp.width, bmp.height);
    plotStarted = true;
  }
  plotCanvas.getContext('2d').drawImage(bmp, 0, 0);
  showPlot();
}
  break;
}
        case 'prompt':
          // R is ready for the next command
          setReady(true);
          setStatus('ready', 'R pronto');
          break;
      }
    }
  })();

  // Set canvas as the graphics device
  await webR.evalRVoid('options(device=webr::canvas)');

  setStatus('ready', 'R pronto');
  setReady(true);
  outputEl.innerHTML = '';
  appendOutput(
    'R rodando via WebR ' + (await webR.evalRString('R.version.string')) + '\n' +
    'Digite um comando abaixo ou escolha um exemplo.\n\n',
    'webr-info'
  );

  // â”€â”€ Run code â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  async function runCode(code) {
    code = code.trim();
    if (!code) return;

    appendOutput('> ' + code + '\n', 'webr-stdout');
    history.unshift(code);
    histIdx = -1;

    setReady(false);
    setStatus('ready', 'Executandoâ€¦');
    plotStarted = false;

    // Write to R's stdin â€” the output loop above handles the response
    await webR.writeConsole(code + '\n');

    inputEl.value = '';
    inputEl.focus();
  }

  // â”€â”€ Event listeners â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  runBtn.addEventListener('click', () => runCode(inputEl.value));

  inputEl.addEventListener('keydown', e => {
    if (e.key === 'Enter')     { e.preventDefault(); runCode(inputEl.value); }
    if (e.key === 'ArrowUp')   { e.preventDefault(); histIdx = Math.min(histIdx + 1, history.length - 1); inputEl.value = history[histIdx] ?? ''; }
    if (e.key === 'ArrowDown') { e.preventDefault(); histIdx = Math.max(histIdx - 1, -1); inputEl.value = histIdx === -1 ? '' : (history[histIdx] ?? ''); }
  });

  exampleBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      if (!btn.dataset.code) return;
      inputEl.value = btn.dataset.code;
      inputEl.focus();
    });
  });
</script>

</body>
</html>